<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>laya home | Architektura & Design</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
      *, *::before, *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body, html {
        margin: 0;
        padding: 0;
        /* --- BODY FONT --- */
        font-family: 'Poppins', sans-serif;
        color: #333;
        overflow-x: hidden;
        background-color: #000;
      }

      body {
          overflow-y: auto;
      }

      /* --- BASE STYLES --- */
      :root {
          --header-height: 75px;
          --accent-color-1: #B89A7B;
          --accent-color-2: #6c757d;
          --accent-color-3: #EAEAEA;
          --accent-color-4: #343a40;
          --text-light: #f8f9fa;
          --text-dark: #212529;
          --bg-dark-1: #1a1a1a;
          --bg-dark-2: #252525;
          --bg-light-1: #f8f9fa;
          --bg-light-2: #ffffff;
          --header-icon-color-dark: var(--text-light);
          --header-icon-color-light: var(--text-dark);
          --header-hover-color: var(--accent-color-1);
          --header-bg-dark: rgba(26, 26, 26, 0.85);
          --header-bg-light: rgba(248, 249, 250, 0.9);

          /* --- LOGO FONT PLACEHOLDER --- */
          /* IMPORTANT: Replace 'Georgia' with 'Halimum' below */
          /* AND add your @font-face rule for Halimum above */
          --logo-font: Georgia, serif; /* Using Georgia as a distinct placeholder */
      }

      /* --- HEADER STYLES --- */
      .site-header {
          position: fixed; top: 0; left: 0; right: 0; width: 100%;
          height: var(--header-height); padding: 0 40px; z-index: 100;
          display: flex; align-items: center;
          background-color: var(--header-bg-dark);
          backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
          transition: background-color 0.4s ease-out, backdrop-filter 0.4s ease-out;
      }
      body.on-light-section .site-header { background-color: var(--header-bg-light); }

      .header-logo { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }
      .logo-link {
          text-decoration: none; font-family: var(--logo-font);
          font-size: 1.8rem; font-weight: normal; /* Georgia looks better normal weight */
          letter-spacing: 0.5px; /* Less spacing for serif */
          color: var(--header-icon-color-dark);
          transition: color 0.3s ease; text-transform: lowercase; white-space: nowrap;
      }
      .logo-link:hover { color: var(--header-hover-color); }
      body.on-light-section .logo-link { color: var(--header-icon-color-light); }

      .header-nav { margin-left: auto; }
      .header-nav ul { list-style: none; display: flex; gap: 35px; padding: 0; margin: 0; align-items: center; }
      .header-nav li { position: relative; }
      .header-nav a {
          text-decoration: none; color: var(--header-icon-color-dark); font-size: 1.1rem;
          transition: transform 0.3s ease, color 0.3s ease;
          display: flex; flex-direction: column; align-items: center; position: relative;
      }
      body.on-light-section .header-nav a { color: var(--header-icon-color-light); }
      .header-nav a:hover { transform: scale(1.15); color: var(--header-hover-color); }
      .nav-label {
          position: absolute; top: 100%; margin-top: 6px; background-color: transparent;
          color: inherit; font-family: 'Poppins', sans-serif; font-weight: 400; font-size: 0.75rem;
          padding: 2px 4px; border-radius: 4px; white-space: nowrap; opacity: 0; visibility: hidden;
          transform: translateY(5px) scale(0.9);
          transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s 0.3s;
          pointer-events: none; text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
      }
      .header-nav a:hover .nav-label { opacity: 1; visibility: visible; transform: translateY(0) scale(1); transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s 0s; }

      /* --- FOOTER STYLES --- */
      section#section-4 { /* Footer parent */
          position: relative; background-color: var(--bg-light-1); color: var(--text-dark);
          min-height: 100vh; height: auto; padding-top: calc(var(--header-height) + 10vh);
          padding-bottom: 20vh; display: flex; justify-content: center; align-items: center;
          margin-top: calc(-1 * var(--header-height)); overflow: hidden;
      }
      .site-footer {
          position: absolute; bottom: 30px; left: 0; width: 100%; padding: 0 30px;
          display: flex; flex-direction: column; align-items: center; gap: 15px;
          z-index: 5; opacity: 0; transform: translateY(30px);
      }
      .site-footer .copyright { font-size: 0.85rem; color: #888; text-align: center; font-family: 'Poppins', sans-serif; }
      .site-footer .social-icons { display: flex; justify-content: center; gap: 20px; }
      .site-footer .social-icons a { text-decoration: none; color: #aaa; font-size: 1.2rem; transition: transform 0.3s ease, color 0.3s ease; display: inline-block; }
      .site-footer .social-icons a:hover { transform: scale(1.15); color: var(--accent-color-2); }

      /* --- SECTION STYLES --- */
      section {
        min-height: 100vh; height: auto; width: 100%; display: flex;
        justify-content: center; align-items: center; position: relative;
        overflow: hidden; padding: 50px; padding-top: var(--header-height);
        margin-top: calc(-1 * var(--header-height));
      }

      /* --- SECTION 0: Hero Auto-Fade Effect --- */
      .hero-section { background-color: var(--bg-dark-1); color: var(--text-light); padding: 0; display: block; }
      .hero-image-container { position: absolute; top: 0; left: 0; width: 100%; height: 100vh; overflow: hidden; }
      .hero-image-layer {
          position: absolute; top: 0; left: 0; width: 100%; height: 100%;
          background-size: cover; background-position: center center;
          opacity: 0; /* Start hidden, JS controls visibility */
          will-change: opacity; /* Hint for performance */
      }
      #hero-layer-1 { background-image: url('interior_1.png'); }
      #hero-layer-2 { background-image: url('interior_2.png'); }
      #hero-layer-3 { background-image: url('interior_3.png'); }

      .hero-content {
        position: relative; z-index: 2; display: flex; flex-direction: column;
        justify-content: center; align-items: center; height: 100vh;
        text-align: center; color: var(--text-light); padding: 40px;
        opacity: 0; /* Start hidden */
        background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.4)); /* Darker overlay */
      }
      .hero-title {
        font-family: var(--logo-font); font-size: clamp(2.2rem, 5vw, 3.8rem); /* Adjusted size */
        font-weight: normal; margin-bottom: 15px; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
        text-transform: lowercase; line-height: 1.1;
      }
      .hero-tagline {
        font-size: clamp(1rem, 2vw, 1.4rem); font-weight: 300; max-width: 650px;
        margin: 0 auto; line-height: 1.7; text-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
      }

      /* --- SECTION 1: Philosophy --- */
      .philosophy-section { background-color: var(--bg-light-2); color: var(--text-dark); padding: 80px 40px; }
      .philosophy-content-wrapper { display: flex; flex-direction: column; align-items: center; gap: 50px; max-width: 1100px; width: 100%; opacity: 0; }
      @media (min-width: 768px) { .philosophy-content-wrapper { flex-direction: row; } }
      .philosophy-text-content { flex: 1 1 60%; max-width: 650px; opacity: 0; transform: translateX(-30px); }
      .philosophy-title { font-family: var(--logo-font); font-size: clamp(1.8rem, 4vw, 2.8rem); font-weight: bold; margin-bottom: 30px; color: var(--accent-color-4); text-align: left; }
      .philosophy-text p {
          /* --- ADJUSTED TEXT SIZE --- */
          font-size: clamp(0.85rem, 1.4vw, 1rem); /* Reduced max size */
          line-height: 1.8; /* Adjusted line height */
          margin-bottom: 18px; /* Slightly less margin */
          font-weight: 400; color: #495057;
      }
      .philosophy-image-container { flex: 1 1 35%; max-width: 350px; text-align: center; opacity: 0; transform: translateX(30px); }
      .philosophy-portrait { display: block; width: 100%; height: auto; border-radius: 8px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); object-fit: cover; }

      /* --- SECTION 2: Services --- */
        .services-section { background-color: var(--bg-dark-2); color: var(--text-light); padding: 80px 40px; }
        .services-container { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 1200px; }
        .services-title { font-family: var(--logo-font); font-size: clamp(2rem, 5vw, 3.5rem); font-weight: bold; margin-bottom: 60px; text-align: center; color: var(--accent-color-1); opacity: 0; transform: translateY(-30px); }
        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 40px; width: 100%; }
        .service-card {
            background-color: var(--bg-dark-1); border-radius: 10px; padding: 35px 30px;
            text-align: center; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            opacity: 0; transform: translateY(30px); /* Start slightly down for vertical reveal */
            transition: transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), box-shadow 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .service-card:hover { transform: translateY(-10px) scale(1.03); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); }
        .service-icon { font-size: 2.5rem; color: var(--accent-color-1); margin-bottom: 20px; display: inline-block; }
        .service-card-title { font-family: 'Poppins', sans-serif; font-size: 1.25rem; font-weight: 600; margin-bottom: 15px; color: var(--text-light); }
        .service-card-description { font-size: 0.95rem; line-height: 1.7; color: var(--accent-color-3); font-weight: 300; }

      /* --- SECTION 3: Portfolio Preview --- */
      .portfolio-section { background-color: var(--bg-light-1); color: var(--text-dark); padding: 80px 40px; }
      .portfolio-preview-container { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 1200px; opacity: 0; transform: translateY(50px); }
      .portfolio-title { font-family: var(--logo-font); font-size: clamp(2rem, 5vw, 3.5rem); font-weight: bold; margin-bottom: 50px; text-align: center; color: var(--accent-color-4); }
      .portfolio-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; width: 100%; margin-bottom: 50px; }
      .portfolio-item-placeholder {
          aspect-ratio: 4 / 3; background: linear-gradient(135deg, #e0e0e0, #cccccc); border-radius: 8px;
          display: flex; justify-content: center; align-items: center; color: var(--accent-color-4);
          font-family: 'Poppins', sans-serif; font-size: 1rem; font-weight: 600;
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); opacity: 0; transform: scale(0.9);
          transition: transform 0.3s ease, box-shadow 0.3s ease; text-align: center; padding: 10px;
      }
      .portfolio-item-placeholder:hover { transform: scale(1.03); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
      .portfolio-cta {
          display: inline-block; background-color: var(--accent-color-4); color: var(--text-light);
          padding: 15px 40px; border-radius: 50px; font-family: var(--logo-font); font-weight: bold;
          text-decoration: none; font-size: 1rem; transition: background-color 0.3s ease, transform 0.3s ease, color 0.3s ease, border-color 0.3s ease;
          opacity: 0; transform: translateY(20px); border: 2px solid transparent;
      }
      .portfolio-cta:hover { background-color: transparent; color: var(--accent-color-4); border: 2px solid var(--accent-color-4); transform: translateY(15px) scale(1.05); }

      /* --- SECTION 4: Contact Form --- */
      .contact-form-container {
         background-color: var(--bg-light-2); padding: 50px clamp(20px, 8vw, 80px); border-radius: 10px;
         box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08); width: 100%; max-width: 700px;
         opacity: 0; transform: translateY(50px); z-index: 1;
      }
      .contact-title { font-family: var(--logo-font); font-size: clamp(1.8rem, 4vw, 3rem); font-weight: bold; margin-bottom: 40px; text-align: center; color: var(--accent-color-4); }
      .contact-form .form-group { margin-bottom: 25px; position: relative; }
      .contact-form label { display: block; font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 0.9rem; color: var(--accent-color-2); margin-bottom: 8px; opacity: 0; transform: translateX(-20px); }
      .contact-form input[type="text"], .contact-form input[type="email"], .contact-form textarea {
          width: 100%; padding: 15px 20px; border: 1px solid #ccc; border-radius: 6px; font-family: 'Poppins', sans-serif;
          font-size: 1rem; color: var(--text-dark); background-color: var(--bg-light-2);
          transition: border-color 0.3s ease, box-shadow 0.3s ease; opacity: 0; transform: translateX(-20px);
      }
      .contact-form input:focus, .contact-form textarea:focus { border-color: var(--accent-color-1); box-shadow: 0 0 0 3px rgba(184, 154, 123, 0.3); outline: none; }
      .contact-form textarea { min-height: 150px; resize: vertical; }
      .contact-form button {
          display: block; width: 100%; padding: 15px 30px; background-color: var(--accent-color-4);
          color: var(--text-light); border: none; border-radius: 50px; font-family: var(--logo-font);
          font-size: 1.1rem; font-weight: bold; cursor: pointer;
          transition: background-color 0.3s ease, transform 0.3s ease, color 0.3s ease;
          margin-top: 10px; opacity: 0; transform: translateY(20px);
      }
      .contact-form button:hover { background-color: var(--accent-color-1); color: var(--bg-dark-1); transform: scale(1.03); }

      /* --- Navigation Dots --- */
      .nav-dots { position: fixed; top: 50%; right: 30px; transform: translateY(-50%); display: flex; flex-direction: column; z-index: 101; }
      .nav-dot { width: 10px; height: 10px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.4); margin: 12px 0; cursor: pointer; transition: background-color 0.3s, transform 0.3s; border: 1px solid rgba(0, 0, 0, 0.2); }
      body.on-light-section .nav-dot { background-color: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.2); }
      .nav-dot.active { background-color: white; transform: scale(1.4); border: 1px solid rgba(0, 0, 0, 0.3); }
      body.on-light-section .nav-dot.active { background-color: var(--text-dark); border: 1px solid rgba(255, 255, 255, 0.3); }

      /* --- Scroll Indicator --- */
      .scroll-indicator { position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%); color: rgba(255, 255, 255, 0.8); font-size: 0.8rem; font-family: 'Poppins', sans-serif; display: flex; flex-direction: column; align-items: center; z-index: 5; opacity: 0.8; transition: opacity 0.5s ease; letter-spacing: 1px; pointer-events: none; }
      .scroll-arrow { margin-top: 12px; width: 18px; height: 18px; border-right: 2px solid rgba(255, 255, 255, 0.8); border-bottom: 2px solid rgba(255, 255, 255, 0.8); transform: rotate(45deg); animation: scrollArrow 2s infinite cubic-bezier(0.68, -0.55, 0.27, 1.55); }
      @keyframes scrollArrow { 0% { transform: rotate(45deg) translate(0, 0); opacity: 0.3; } 50% { transform: rotate(45deg) translate(8px, 8px); opacity: 1; } 100% { transform: rotate(45deg) translate(0, 0); opacity: 0.3; } }
      body.scrolled .scroll-indicator { opacity: 0; pointer-events: none; }

      /* --- RESPONSIVE --- */
       @media (max-width: 992px) {
           .site-header { padding: 0 25px; } .logo-link { font-size: 1.6rem; } .header-nav ul { gap: 25px; }
           section { padding-left: 30px; padding-right: 30px; }
           .philosophy-section, .services-section, .portfolio-section, section#section-4 { padding-top: 60px; padding-bottom: 60px; } /* Adjust vertical padding */
           section#section-4 { padding-bottom: 20vh; } /* Keep footer space */
           .services-grid, .portfolio-grid { gap: 30px; }
           .contact-form-container { padding: 40px clamp(15px, 6vw, 60px); }
       }
        @media (max-width: 768px) {
            :root { --header-height: 70px; }
            .site-header { padding: 0 20px; } .logo-link { font-size: 1.5rem; } .header-nav ul { gap: 20px; } .header-nav a { font-size: 1rem; } .nav-label { display: none; }
            .nav-dots { right: 20px; } .nav-dot { width: 9px; height: 9px; margin: 10px 0; }
            .philosophy-content-wrapper { flex-direction: column; gap: 30px; } .philosophy-text-content, .philosophy-image-container { max-width: 100%; flex-basis: auto; transform: translateX(0) !important; /* Reset transform for stacked layout */ } .philosophy-title { text-align: center; }
            .services-grid { gap: 25px; grid-template-columns: 1fr; } .service-card { transform: translateY(30px) translateX(0) !important; /* Reset transform */ }
            .portfolio-grid { gap: 20px; }
            .contact-form-container { padding: 30px clamp(10px, 4vw, 40px); } .contact-title { font-size: clamp(1.6rem, 5vw, 2.5rem); margin-bottom: 30px; } .contact-form input, .contact-form textarea { padding: 12px 15px; font-size: 0.95rem;} .contact-form button { padding: 12px 25px; font-size: 1rem; }
            .site-footer { bottom: 20px; } .site-footer .copyright { font-size: 0.75rem; } .site-footer .social-icons { gap: 15px; } .site-footer .social-icons a { font-size: 1.1rem; }
            section { padding-left: 20px; padding-right: 20px; padding-top: var(--header-height); }
            section#section-4 { padding-bottom: 18vh; }
        }
        @media (max-width: 480px) {
            :root { --header-height: 65px; }
            .site-header { padding: 0 15px; } .logo-link { font-size: 1.4rem; } .header-nav ul { gap: 15px; } .header-nav a { font-size: 0.9rem; }
            .nav-dots { right: 15px; }
            .hero-title { font-size: clamp(2rem, 8vw, 2.8rem); } .hero-tagline { font-size: clamp(0.9rem, 4vw, 1.1rem); }
            .philosophy-title { font-size: clamp(1.8rem, 6vw, 2.5rem); } .philosophy-text p { font-size: clamp(0.85rem, 3.5vw, 0.95rem); line-height: 1.7; }
            .services-title { font-size: clamp(1.8rem, 6vw, 2.5rem); } .service-card { padding: 25px 20px; } .service-card-title { font-size: 1.1rem; } .service-card-description { font-size: 0.9rem; }
            .portfolio-title { font-size: clamp(1.8rem, 6vw, 2.5rem); } .portfolio-grid { grid-template-columns: 1fr; gap: 15px; }
            .contact-title { font-size: clamp(1.5rem, 6vw, 2.2rem); }
            .scroll-indicator { bottom: 25px; font-size: 0.75rem;} .scroll-arrow { width: 16px; height: 16px; margin-top: 10px;}
            section { padding-left: 15px; padding-right: 15px; padding-top: var(--header-height); }
            section#section-4 { padding-bottom: 15vh; }
        }

    </style>
</head>
<body data-current-theme="dark">

    <header class="site-header" id="site-header">
        <div class="header-logo">
            <a href="#section-0" class="logo-link" aria-label="laya home">laya home</a>
        </div>
        <nav class="header-nav">
            <ul>
                <li><a href="#section-0" aria-label="Domů"><i class="fas fa-home"></i><span class="nav-label">Domů</span></a></li>
                <li><a href="#section-1" aria-label="O nás"><i class="fas fa-info-circle"></i><span class="nav-label">O nás</span></a></li>
                <li><a href="#section-2" aria-label="Služby"><i class="fas fa-concierge-bell"></i><span class="nav-label">Služby</span></a></li>
                <li><a href="#section-3" aria-label="Portfolio"><i class="fas fa-drafting-compass"></i><span class="nav-label">Portfolio</span></a></li>
                <li><a href="#section-4" aria-label="Kontakt"><i class="fas fa-envelope"></i><span class="nav-label">Kontakt</span></a></li>
            </ul>
        </nav>
    </header>

    <div class="nav-dots">
      <div class="nav-dot active" data-section="0"></div>
      <div class="nav-dot" data-section="1"></div>
      <div class="nav-dot" data-section="2"></div>
      <div class="nav-dot" data-section="3"></div>
      <div class="nav-dot" data-section="4"></div>
    </div>

    <section class="hero-section" id="section-0" data-theme="dark">
        <div class="hero-image-container"> <div class="hero-image-layer" id="hero-layer-1"></div>
            <div class="hero-image-layer" id="hero-layer-2"></div>
            <div class="hero-image-layer" id="hero-layer-3"></div>
        </div>
         <div class="hero-content">
             <h1 class="hero-title">laya home</h1>
             <p class="hero-tagline">Tvoříme domovy s příběhem, kde se snoubí design, funkčnost a vaše osobnost.</p>
         </div>
        <div class="scroll-indicator">
            <span>Objevujte s námi</span>
            <div class="scroll-arrow"></div>
        </div>
    </section>

    <section class="philosophy-section" id="section-1" data-theme="light">
        <div class="philosophy-content-wrapper">
            <div class="philosophy-text-content">
                <h2 class="philosophy-title">Naše filozofie</h2>
                <div class="philosophy-text">
                    <p>Každý domov vypráví svůj jedinečný příběh. Pod značkou laya home pomáhám vytvářet domovy, které nejsou jen esteticky působivé a funkční, ale především odrážejí osobnost a životní styl svých majitelů.</p>
                    <p>Ať už jde o rekonstrukci starého venkovského stavení, návrh rodinného domu nebo proměnu interiéru, vždy hledám harmonii mezi tradicí, estetikou a současnými potřebami.</p>
                    <p>Mým cílem je, aby prostor sloužil vám – ne vy jemu. Domov by měl být přirozeným pokračováním vašeho života, respektovat vaše zvyky, potřeby i sny. Ke každému projektu proto přistupuji individuálně, s maximální pečlivostí a respektem k místu i jeho historii.</p>
                    <p>Spolupráce s architektem Vám přinese nové úhly pohledu a promyšlená řešení, která vám budou dělat radost po mnoho let. Každý projekt je pro mne jedinečný, a proto kladu důraz na osobní přístup, vzájemnou důvěru a pochopení Vašich potřeb.</p>
                    <p>Pokud hledáte nadčasovou architekturu, která bude skutečným odrazem vaší individuality, ráda vám pomohu proměnit vaše představy a sny ve skutečnost, vytvoříme společně skutečný domov, ve kterém se budete cítit dobře každý den.</p>
                 </div>
            </div>
            <div class="philosophy-image-container">
                <img src="portrait.jpg" alt="Portrét architekta Laya" class="philosophy-portrait">
            </div>
        </div>
    </section>

    <section class="services-section" id="section-2" data-theme="dark">
        <div class="services-container">
            <h2 class="services-title">Naše služby</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon"><i class="fas fa-pencil-ruler"></i></div>
                    <h3 class="service-card-title">Architektonická studie</h3>
                    <p class="service-card-description">První krok k vašemu snu. Zpracujeme úvodní návrh, který definuje koncept, dispozici a vizuální styl vašeho budoucího domova či projektu, s ohledem na vaše potřeby a možnosti pozemku.</p>
                </div>
                 <div class="service-card">
                    <div class="service-icon"><i class="fas fa-drafting-compass"></i></div>
                    <h3 class="service-card-title">Projektová dokumentace</h3>
                    <p class="service-card-description">Detailní technické plány a dokumenty nezbytné pro získání stavebního povolení a pro samotnou realizaci stavby. Zajišťujeme preciznost a soulad s normami.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i class="fas fa-couch"></i></div>
                    <h3 class="service-card-title">Návrh interiéru</h3>
                    <p class="service-card-description">Vytváříme interiéry, které mají duši. Navrhneme funkční a harmonické uspořádání prostoru, vybereme materiály, barvy, osvětlení a nábytek tak, aby vše ladilo s vaším životním stylem.</p>
                </div>
                 <div class="service-card">
                    <div class="service-icon"><i class="fas fa-hard-hat"></i></div>
                    <h3 class="service-card-title">Autorský dozor</h3>
                    <p class="service-card-description">Pohlídáme, aby realizace vaší stavby probíhala přesně podle projektu. Pravidelně navštěvujeme stavbu, kontrolujeme kvalitu prací a řešíme případné detaily přímo na místě.</p>
                </div>
                 <div class="service-card">
                    <div class="service-icon"><i class="fas fa-comments"></i></div>
                    <h3 class="service-card-title">Konzultace</h3>
                    <p class="service-card-description">Potřebujete poradit s výběrem pozemku, dispozičním řešením nebo jen získat odborný názor? Nabízíme jednorázové i pravidelné konzultace k vašim architektonickým a designovým otázkám.</p>
                </div>
                 <div class="service-card">
                    <div class="service-icon"><i class="fas fa-paint-roller"></i></div>
                    <h3 class="service-card-title">Rekonstrukce</h3>
                    <p class="service-card-description">Specializujeme se na citlivé rekonstrukce starších domů a bytů. Propojujeme historické prvky s moderním designem a funkčností, abychom zachovali charakter místa a zároveň splnili vaše současné nároky.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="portfolio-section" id="section-3" data-theme="light">
        <div class="portfolio-preview-container">
            <h2 class="portfolio-title">Ukázky práce</h2>
            <div class="portfolio-grid">
                <div class="portfolio-item-placeholder">Projekt Alfa</div>
                <div class="portfolio-item-placeholder">Vila Beta</div>
                <div class="portfolio-item-placeholder">Městský Komplex Gama</div>
                <div class="portfolio-item-placeholder">Kulturní Centrum Delta</div>
                <div class="portfolio-item-placeholder">Rezidence Epsilon</div>
                <div class="portfolio-item-placeholder">Komerční Centrum Zeta</div>
            </div>
            <a href="#portfolio-full" class="portfolio-cta">Prohlédnout celé portfolio</a>
        </div>
    </section>

    <section class="contact-section" id="section-4" data-theme="light">
         <div class="contact-form-container">
             <h2 class="contact-title">Napište nám</h2>
             <form class="contact-form" action="#" method="POST">
                 <div class="form-group">
                     <label for="name">Jméno</label>
                     <input type="text" id="name" name="name" required placeholder="Vaše celé jméno">
                 </div>
                 <div class="form-group">
                     <label for="email">Email</label>
                     <input type="email" id="email" name="email" required placeholder="vas.email@priklad.cz">
                 </div>
                 <div class="form-group">
                     <label for="subject">Předmět</label>
                     <input type="text" id="subject" name="subject" placeholder="Stručně, o co se jedná?">
                 </div>
                 <div class="form-group">
                     <label for="message">Zpráva</label>
                     <textarea id="message" name="message" required placeholder="Řekněte nám více o vašem projektu nebo dotazu..."></textarea>
                 </div>
                 <button type="submit">Odeslat zprávu</button>
             </form>
         </div>

        <footer class="site-footer">
            <div class="social-icons">
                <a href="#" aria-label="Instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="LinkedIn" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" aria-label="Pinterest" title="Pinterest"><i class="fab fa-pinterest"></i></a>
                <a href="#" aria-label="Facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
            </div>
            <p class="copyright">&copy; <span id="copyright-year"></span> laya home. Všechna práva vyhrazena.</p>
        </footer>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>

    <script>
      gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

        // --- Initialize Hero Section Animations ---
        function initHero() {
            const heroSection = document.querySelector('.hero-section');
            if (!heroSection) return;

            const layers = gsap.utils.toArray('.hero-image-layer');
            const content = document.querySelector('.hero-content');

            // Initial states
            gsap.set(layers, { opacity: 0 }); // All layers start hidden
            gsap.set(content, { opacity: 0, y: 30 });

            let heroAutoFadeTl; // Declare timeline variable

            // 1. Entrance Animation (using ScrollTrigger)
            const entranceTl = gsap.timeline({
                scrollTrigger: {
                    trigger: heroSection,
                    start: "top 80%", // Trigger when section is 80% from top
                    toggleActions: "play none none none", // Play once on enter
                    onEnter: () => {
                        // Start the auto-fade timeline *after* the entrance animation completes
                        // Use entranceTl.duration() to get the exact duration
                        gsap.delayedCall(entranceTl.duration(), () => {
                            // Start the auto-fade timeline, ensuring it plays from the beginning
                            if (heroAutoFadeTl) {
                                console.log("Starting auto-fade timeline");
                                heroAutoFadeTl.play(0);
                            }
                        });
                    },
                    // markers: true, // For debugging entrance trigger
                    id: "heroEntranceTrigger"
                }
            });

            // Fade in the first layer and content
            entranceTl.to(layers[0], { opacity: 1, duration: 1.2, ease: 'power2.out' })
                      .to(content, { opacity: 1, y: 0, duration: 1.0, ease: 'power2.out' }, "<0.3"); // Overlap slightly

            // 2. Automatic Fading Timeline (controlled by play/pause trigger)
            heroAutoFadeTl = gsap.timeline({
                paused: true, // Start paused, will be played by trigger
                repeat: -1,   // Loop indefinitely
                defaults: { duration: 0.8, ease: 'power1.inOut' } // Smooth fade transition
            });

            // Build the repeating fade sequence:
            // Start state assumes layers[0] is visible (from entrance animation)
            heroAutoFadeTl.to(layers[0], { opacity: 0, delay: 3 }, "+=0") // Wait 3s, then fade out layer 0
                          .to(layers[1], { opacity: 1 }, "<")             // Fade in layer 1 simultaneously
                          .to(layers[1], { opacity: 0, delay: 3 }, "+=0") // Wait 3s, then fade out layer 1
                          .to(layers[2], { opacity: 1 }, "<")             // Fade in layer 2 simultaneously
                          .to(layers[2], { opacity: 0, delay: 3 }, "+=0") // Wait 3s, then fade out layer 2
                          .to(layers[0], { opacity: 1 }, "<");            // Fade in layer 0 simultaneously to loop back

            // 3. ScrollTrigger to Play/Pause the Auto-Fade Timeline
            ScrollTrigger.create({
                trigger: heroSection,
                start: "top 60%", // Start playing when section is well in view
                end: "bottom 40%", // Pause when section is mostly out of view
                // markers: true, // For debugging play/pause triggers
                onEnter: () => {
                    // Only play if the entrance animation is complete
                    if (heroAutoFadeTl && entranceTl.progress() === 1) {
                        console.log("Play auto-fade on Enter");
                        heroAutoFadeTl.play();
                    } else {
                         console.log("Play auto-fade on Enter skipped (entrance not done)");
                    }
                },
                onLeave: () => {
                    console.log("Pause auto-fade on Leave");
                    if (heroAutoFadeTl) heroAutoFadeTl.pause();
                },
                onEnterBack: () => {
                     console.log("Play auto-fade on EnterBack");
                     if (heroAutoFadeTl) heroAutoFadeTl.play();
                },
                onLeaveBack: () => {
                     console.log("Pause auto-fade on LeaveBack");
                     if (heroAutoFadeTl) heroAutoFadeTl.pause();
                },
                id: "heroAutoFadeTrigger"
            });

            // Keep a simple parallax for content, less likely to cause lag
            gsap.to(content, {
                yPercent: -10, // Reduced movement
                ease: "none",
                scrollTrigger: {
                    trigger: heroSection,
                    start: "top top",
                    end: "bottom top",
                    scrub: 1.5 // Slower scrub
                }
            });
        }


        // --- Initialize Philosophy Section Animations ---
        function initPhilosophy() {
            const section = document.querySelector('.philosophy-section');
            const wrapper = section.querySelector('.philosophy-content-wrapper');
            const textContent = section.querySelector('.philosophy-text-content');
            const imageContainer = section.querySelector('.philosophy-image-container');

            if (!section || !wrapper || !textContent || !imageContainer) return;

            gsap.timeline({
                scrollTrigger: {
                    trigger: section,
                    start: "top 70%", // Adjusted trigger point
                    toggleActions: "play none none reverse",
                    id: "philosophyTrigger"
                }
            })
            .to(wrapper, { opacity: 1, duration: 0.4, ease: 'power1.out' }) // Faster wrapper fade
            .to(textContent, { opacity: 1, x: 0, duration: 0.9, ease: 'power3.out' }, ">-0.1")
            .to(imageContainer, { opacity: 1, x: 0, duration: 0.9, ease: 'power3.out' }, "<");
        }


       // --- Initialize Services Section Animations ---
        function initServices() {
            const section = document.querySelector('.services-section');
            if (!section) return;
            const title = section.querySelector('.services-title');
            const cards = gsap.utils.toArray('.service-card');

            if (!title || !cards.length) {
                console.warn("Services title or cards not found.");
                return;
            }

             // Animate Title first
             gsap.from(title, {
                 opacity: 0,
                 y: -30,
                 duration: 0.8,
                 ease: 'power2.out',
                 scrollTrigger: {
                     trigger: title,
                     start: 'top 85%', // Trigger when title is entering
                     toggleActions: 'play none none reverse',
                     id: "servicesTitleTrigger"
                 }
             });

            // Animate Cards with stagger
            gsap.from(cards, {
                opacity: 0,
                y: 30, // Animate from bottom up
                duration: 0.6, // Slightly faster card animation
                ease: 'power2.out',
                stagger: 0.15, // Stagger the start of each card's animation
                scrollTrigger: {
                    trigger: section.querySelector('.services-grid'), // Trigger when the grid starts entering
                    start: 'top 80%', // Adjust as needed
                    toggleActions: 'play none none reverse',
                    // markers: true, // For debugging card grid trigger
                    id: "servicesCardsTrigger"
                }
            });
        }

        // --- Initialize Portfolio Preview Animations ---
        function initPortfolio() {
            const portfolioSection = document.querySelector('#section-3');
            if (!portfolioSection) return;

            const container = portfolioSection.querySelector('.portfolio-preview-container');
            const items = gsap.utils.toArray('.portfolio-item-placeholder', portfolioSection);
            const cta = portfolioSection.querySelector('.portfolio-cta');

            if (!container || !items.length || !cta) {
                console.warn("Portfolio elements not found in #section-3");
                return;
            }

            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: portfolioSection,
                    start: "top 70%", // Adjusted trigger
                    toggleActions: "play none none reverse",
                    id: "portfolioTrigger"
                }
            });

            tl.to(container, { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' })
              .to(items, {
                opacity: 1,
                scale: 1,
                duration: 0.6,
                ease: 'back.out(1.4)',
                stagger: 0.1
              }, "-=0.3") // Reduced stagger overlap
              .to(cta, {
                opacity: 1,
                y: 0,
                duration: 0.7,
                ease: 'power2.out'
              }, "-=0.4"); // Adjusted overlap
        }


        // --- Initialize Contact Form Animations ---
        function initContact() {
            const contactSection = document.querySelector('#section-4');
             if (!contactSection) return;
            const container = contactSection.querySelector('.contact-form-container');
            if (!container) return; // Exit if container missing

            const labels = gsap.utils.toArray('.contact-form label', container);
            const inputs = gsap.utils.toArray('.contact-form input, .contact-form textarea', container);
            const button = container.querySelector('.contact-form button');

             const tl = gsap.timeline({
                 scrollTrigger: {
                     trigger: contactSection,
                     start: "top 65%", // Adjusted trigger
                     toggleActions: "play none none reverse",
                     id: "contactTrigger"
                 }
             });

             tl.to(container, { opacity: 1, y: 0, duration: 0.8, ease: 'power3.out' });

            // Only animate inner elements if they exist
            if (labels.length > 0) {
               tl.to(labels, { opacity: 1, x: 0, duration: 0.5, ease: 'power2.out', stagger: 0.08 }, "-=0.5"); // Faster stagger
            }
             if (inputs.length > 0) {
                tl.to(inputs, { opacity: 1, x: 0, duration: 0.5, ease: 'power2.out', stagger: 0.08 }, "<0.1"); // Faster stagger
            }
             if (button) {
                tl.to(button, { opacity: 1, y: 0, duration: 0.6, ease: 'back.out(1.7)' }, "-=0.3");
            }
        }


        // --- Initialize Header Logic ---
        function initHeader() {
          const header = document.getElementById('site-header');
          if (!header) return;
          const headerLinks = document.querySelectorAll('.site-header a[href^="#"]');
          headerLinks.forEach(anchor => {
              anchor.addEventListener('click', function(e) {
                  const href = this.getAttribute('href');
                  if (href && href.startsWith('#') && href.length > 1) {
                      const target = document.querySelector(href);
                      if (target) {
                          e.preventDefault();
                          const headerHeight = header.offsetHeight;
                          gsap.to(window, { duration: 1.2, scrollTo: { y: target, offsetY: headerHeight }, ease: "power2.inOut" });
                      } else { console.warn(`Scroll target '${href}' not found.`); }
                  }
              });
          });
        }

        // --- Initialize Footer Animation ---
        function initFooter() {
          const footer = document.querySelector('#section-4 .site-footer');
          const copyrightYearSpan = document.getElementById('copyright-year');
          if (!footer) { console.warn("Site footer inside #section-4 not found."); return; }
          if(copyrightYearSpan) { copyrightYearSpan.textContent = new Date().getFullYear(); }
          gsap.to(footer, {
              opacity: 1, y: 0, duration: 1.0, ease: 'power2.out',
              scrollTrigger: { trigger: '#section-4', start: "center bottom-=15%", toggleActions: "play none none reverse", id: "footer-reveal" }
          });
        }

        // --- Navigation Dots & Theme Switching ---
        function initNavigation() {
          const sections = document.querySelectorAll('section[id^="section-"]');
          const navDots = document.querySelectorAll('.nav-dot');
          const body = document.body;
          const header = document.getElementById('site-header');
          const numDots = navDots.length;
          const sectionsWithDots = Array.from(sections).filter((sec, index) => index < numDots);

          if (navDots.length === 0 || sectionsWithDots.length === 0 || !header) return;
          if (navDots.length !== sectionsWithDots.length) console.warn(`Dot/Section mismatch: ${navDots.length} dots, ${sectionsWithDots.length} corresponding sections.`);

          const getHeaderHeight = () => header.offsetHeight;

          navDots.forEach(dot => {
              dot.addEventListener('click', (e) => {
                  e.preventDefault();
                  const sectionIndex = parseInt(dot.getAttribute('data-section'), 10);
                   const targetSection = document.getElementById(`section-${sectionIndex}`);
                   if (targetSection) gsap.to(window, { duration: 1.2, scrollTo: { y: targetSection, offsetY: getHeaderHeight() }, ease: "power2.inOut" });
                   else console.error(`Target section #section-${sectionIndex} not found.`);
              });
          });

          sectionsWithDots.forEach((section, index) => {
              const theme = section.getAttribute('data-theme') || 'dark';
              ScrollTrigger.create({
                  trigger: section,
                  start: () => `top top+=${getHeaderHeight()}px`,
                  end: index === sectionsWithDots.length - 1 ? "bottom bottom" : () => `bottom top+=${getHeaderHeight()}px`,
                  id: `section-nav-${index}`,
                  onEnter: () => updateActiveState(index, theme),
                  onEnterBack: () => updateActiveState(index, theme),
                  invalidateOnRefresh: true
              });
          });

          function updateActiveState(activeIndex, activeTheme) {
              navDots.forEach((dot) => {
                  const dotSecIndex = parseInt(dot.getAttribute('data-section'), 10);
                  dot.classList.toggle('active', dotSecIndex === activeIndex);
              });
              const currentBodyTheme = body.classList.contains('on-light-section') ? 'light' : 'dark';
              if (activeTheme !== currentBodyTheme) body.classList.toggle('on-light-section', activeTheme === 'light');
          }

          let scrollIndicatorState = { scrolled: window.scrollY > 50 };
          body.classList.toggle('scrolled', scrollIndicatorState.scrolled);
          const scrollListener = () => {
              const isScrolled = window.scrollY > 50;
              if (isScrolled !== scrollIndicatorState.scrolled) {
                  body.classList.toggle('scrolled', isScrolled);
                  scrollIndicatorState.scrolled = isScrolled;
              }
          };
          window.addEventListener('scroll', scrollListener, { passive: true });

          // Debounced refresh function
          const debouncedRefresh = gsap.utils.debounce(() => {
                console.log("Debounced Refreshing ScrollTrigger...");
                ScrollTrigger.refresh();
            }, 100); // 100ms debounce interval


          setTimeout(() => {
             let initialIndex = 0;
             let initialTheme = 'dark';
             const currentHeaderHeight = getHeaderHeight();
             const viewportCenter = currentHeaderHeight + (window.innerHeight - currentHeaderHeight) / 2;
             sectionsWithDots.forEach((section, index) => {
                 const rect = section.getBoundingClientRect();
                  if (rect.top <= viewportCenter && rect.bottom >= viewportCenter) {
                       initialIndex = index;
                       initialTheme = section.getAttribute('data-theme') || 'dark';
                   } else if (rect.top <= currentHeaderHeight && index === 0 && initialIndex === 0) {
                       initialIndex = index;
                       initialTheme = section.getAttribute('data-theme') || 'dark';
                   }
             });
             updateActiveState(initialIndex, initialTheme);
             scrollIndicatorState.scrolled = window.scrollY > 50;
             body.classList.toggle('scrolled', scrollIndicatorState.scrolled);
             // Use debounced refresh after initial calculations
             debouncedRefresh();
          }, 150);

           // Use debounced refresh on resize
           window.addEventListener('resize', debouncedRefresh);
        }

      // --- Initialize All ---
      function initAll() {
        console.log("Initializing laya home animations (v2)...");
        // Order matters: Navigation setup might depend on header being measured
        initHeader();
        initNavigation();
        initFooter();

        // Initialize sections
        initHero();
        initPhilosophy();
        initServices();
        initPortfolio();
        initContact();

        // General smooth scroll (ensure it runs after other initializations)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
         if (!anchor.closest('.site-header') && !anchor.closest('.nav-dots')) {
           anchor.addEventListener('click', function(e) {
             const href = this.getAttribute('href');
             if (href && href.startsWith('#') && href.length > 1) {
               try {
                   const target = document.querySelector(href);
                   if (target) {
                       e.preventDefault();
                       const header = document.getElementById('site-header');
                       const offset = header ? header.offsetHeight : 75;
                       gsap.to(window, { duration: 1, scrollTo: { y: target, offsetY: offset }, ease: "power2.inOut" });
                    } else { console.warn("Smooth scroll target not found:", href); }
               } catch (error) { console.warn("Error finding target:", href, error); }
             } else if (href === "#") { e.preventDefault(); }
           });
         }
        });

        // Final refresh after a short delay to ensure layout stability
        setTimeout(() => {
            ScrollTrigger.refresh();
            console.log("Final ScrollTrigger refresh after init.");
        }, 300);

        console.log("laya home Initialization complete (v2).");
      }

       window.addEventListener('load', initAll);

    </script>
</body>
</html>
